(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{95:function(e,t,n){"use strict";n.r(t);var r=n(43),a=n.n(r),s=n(46),i=n(25),c=n(2),l=n(1),u=n(4),o=n(3),h=n(5),d=n(0),p=n.n(d),f=n(47),g=n.n(f).a.create({baseURL:"https://react-burger-builder-8d6de.firebaseio.com/"}),b=n(6),m=Object(d.lazy)(function(){return n.e(7).then(n.bind(null,91))});var v=function(e,t){return function(n){function r(){var e,t;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(o.a)(r)).call.apply(e,[this].concat(a)))).state={error:null},t.req=null,t.res=null,t.errorConfirmed=function(){t.setState({error:null})},t}return Object(h.a)(r,n),Object(l.a)(r,[{key:"componentWillMount",value:function(){var e=this;this.req=t.interceptors.request.use(function(t){return e.setState({error:null}),t},function(e){throw e}),this.res=t.interceptors.response.use(function(e){return e},function(t){throw e.setState({error:t}),t})}},{key:"componentWillUnmount",value:function(){this.req&&t.interceptors.request.eject(this.req),this.res&&t.interceptors.response.eject(this.res)}},{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,this.state.error?p.a.createElement(m,{show:!!this.state.error,hider:this.errorConfirmed},this.state.error.message):null,p.a.createElement(e,this.props))}}]),r}(d.Component)},j=Object(d.lazy)(function(){return n.e(5).then(n.bind(null,92))}),O=Object(d.lazy)(function(){return n.e(6).then(n.bind(null,96))}),S=Object(d.lazy)(function(){return n.e(7).then(n.bind(null,91))}),y=Object(d.lazy)(function(){return n.e(8).then(n.bind(null,93))}),E={salad:.5,cheese:.6,bacon:.8,meat:1.4},k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,l=new Array(r),h=0;h<r;h++)l[h]=arguments[h];return(n=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={ingredients:null,totalPrice:4,purchasable:!1,purchasing:!1,loading:!1,orders:[],error:null},n.updatePurchasable=function(e){return Object.values(e).some(function(e){return 0!==e})},n.ingredientIncreaseHandler=function(e){if(n.state.ingredients){var t=Object(i.a)({},n.state.ingredients);t[e]+=1;var r=n.state.totalPrice+E[e];n.setState({ingredients:t,purchasable:n.updatePurchasable(t),totalPrice:r})}},n.ingredientDecreaseHandler=function(e){if(n.state.ingredients&&!(n.state.ingredients[e]<=0)){var t=Object(i.a)({},n.state.ingredients);t[e]-=1;var r=n.state.totalPrice-E[e];n.setState({ingredients:t,purchasable:n.updatePurchasable(t),totalPrice:r})}},n.purchaseStartHandler=function(){n.setState({purchasing:!0})},n.purchaseCancelHandler=function(){n.setState({purchasing:!1})},n.purchaseContinueHandler=Object(s.a)(a.a.mark(function e(){var t,r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),t=n.generateOrder(),e.next=5,g.post("/orders.json",t);case 5:r=e.sent,console.log(r),s=n.state.orders.concat(r.data.name),n.setState({orders:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,n.setState({purchasing:!1,loading:!1}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[0,11,14,17]])})),n.fetchIngredients=Object(s.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({error:null}),e.prev=1,e.next=4,g.get("/ingredients.json");case 4:t=e.sent,n.setState({ingredients:t.data,purchasable:n.updatePurchasable(t.data)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.setState({error:e.t0});case 11:case"end":return e.stop()}},e,this,[[1,8]])})),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchIngredients()}},{key:"render",value:function(){var e=this.state.error?p.a.createElement("p",null,"Ingredients failed to load. Please"," ",p.a.createElement("span",{style:{color:"red",cursor:"pointer"},onClick:this.fetchIngredients},"retry")):p.a.createElement(b.a,null),t=null;return this.state.ingredients&&(e=p.a.createElement(p.a.Fragment,null,p.a.createElement(p.a.Suspense,{fallback:p.a.createElement(b.a,null)},p.a.createElement(j,{ingredients:this.state.ingredients})),p.a.createElement(p.a.Suspense,{fallback:p.a.createElement(b.a,null)},p.a.createElement(O,{ingredients:this.state.ingredients,price:this.state.totalPrice,increase:this.ingredientIncreaseHandler,decrease:this.ingredientDecreaseHandler,purchasable:this.state.purchasable,purchaseStart:this.purchaseStartHandler}))),t=p.a.createElement(p.a.Suspense,{fallback:p.a.createElement(b.a,null)},p.a.createElement(y,{ingredients:this.state.ingredients,price:this.state.totalPrice,purchaseCancel:this.purchaseCancelHandler,purchaseContinue:this.purchaseContinueHandler}))),this.state.loading&&(t=p.a.createElement(b.a,null)),p.a.createElement(p.a.Suspense,{fallback:p.a.createElement(b.a,null)},p.a.createElement(S,{show:this.state.purchasing,hider:this.purchaseCancelHandler},t),e)}},{key:"generateOrder",value:function(){return{customer:{name:"OnyekaChukwu",address:{street:"Adjenughure Street",city:"Effural",state:"Selta",country:"Nier"},phone:"123-255-8416",areaCode:"+56",email:"test@testing.on"},deliveryMethod:"cheapest",ingredients:this.state.ingredients,price:this.state.totalPrice.toFixed(2),date:Date()}}}]),t}(d.Component);t.default=v(k,g)}}]);
//# sourceMappingURL=BurgerBuilder.713c52ab.chunk.js.map