(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{122:function(e,t,n){"use strict";n.r(t);var r=n(78),a=n.n(r),s=n(16),i=n(81),c=n(82),u=n(6),l=n(5),o=n(8),h=n(7),d=n(9),p=n(33),f=n(0),b=n.n(f),g=n(83),m=n.n(g).a.create({baseURL:"https://react-burger-builder-8d6de.firebaseio.com/"}),j=n(12),O=n(10),v=Object(f.lazy)(function(){return n.e(8).then(n.bind(null,35))});var E=function(e,t){return function(n){function r(){var e,t;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(h.a)(r)).call.apply(e,[this].concat(a)))).state={error:null},t.req=null,t.res=null,t.errorConfirmed=function(){t.setState({error:null})},t}return Object(d.a)(r,n),Object(l.a)(r,[{key:"componentWillMount",value:function(){var e=this;this.req=t.interceptors.request.use(function(t){return e.setState({error:null}),t},function(e){throw e}),this.res=t.interceptors.response.use(function(e){return e},function(t){throw e.setState({error:t}),t})}},{key:"componentWillUnmount",value:function(){this.req&&t.interceptors.request.eject(this.req),this.res&&t.interceptors.response.eject(this.res)}},{key:"render",value:function(){return b.a.createElement(b.a.Fragment,null,this.state.error?b.a.createElement(v,{show:!!this.state.error,hider:this.errorConfirmed},this.state.error.message):null,b.a.createElement(e,this.props))}}]),r}(f.Component)},k=n(30),w=Object(f.lazy)(function(){return n.e(6).then(n.bind(null,59))}),S=Object(f.lazy)(function(){return n.e(7).then(n.bind(null,125))}),y=Object(f.lazy)(function(){return n.e(8).then(n.bind(null,35))}),C=Object(f.lazy)(function(){return n.e(9).then(n.bind(null,120))}),H=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return(n=Object(o.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={ingredients:null,totalPrice:4,purchasable:!1,purchasing:!1,loading:!1,orders:[],error:null},n.ingredientIncreaseHandler=function(e){if(n.state.ingredients){var t=Object(c.a)({},n.state.ingredients);t[e]+=1;var r=Object(k.a)(t);n.setState({ingredients:t,purchasable:Object(p.a)(t),totalPrice:r})}},n.ingredientDecreaseHandler=function(e){if(n.state.ingredients&&!(n.state.ingredients[e]<=0)){var t=Object(c.a)({},n.state.ingredients);t[e]-=1;var r=Object(k.a)(t);n.setState({ingredients:t,purchasable:Object(p.a)(t),totalPrice:r})}},n.purchaseStartHandler=function(){n.setState({purchasing:!0})},n.purchaseCancelHandler=function(){n.setState({purchasing:!1})},n.purchaseContinueHandler=Object(i.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.ingredients){e.next=2;break}return e.abrupt("return");case 2:t=Object.entries(n.state.ingredients).map(function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(r)}).join("&"),n.props.history.push({pathname:"/checkout",search:"?"+t});case 4:case"end":return e.stop()}},e,this)})),n.fetchIngredients=Object(i.a)(a.a.mark(function e(){var t,r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({error:null}),e.prev=1,e.next=4,m.get("/ingredients.json");case 4:t=e.sent,r=t.data,s=Object(k.a)(r),n.setState({ingredients:r,purchasable:Object(p.a)(r),totalPrice:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.setState({error:e.t0});case 13:case"end":return e.stop()}},e,this,[[1,10]])})),n.offline=function(){n.setState({error:!1,ingredients:{bacon:0,cheese:0,meat:0,salad:0},totalPrice:4})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchIngredients()}},{key:"render",value:function(){var e=this.state.error?b.a.createElement(j.a,{retryHandler:this.fetchIngredients,mainMessage:"Ingredients Failed To Load. Please ",additionalMessage:b.a.createElement("span",{style:{color:"blue",cursor:"pointer"},onClick:this.offline},"work offline for now?")}):b.a.createElement(O.a,null),t=null;return this.state.ingredients&&(e=b.a.createElement(b.a.Fragment,null,b.a.createElement(b.a.Suspense,{fallback:b.a.createElement(O.a,null)},b.a.createElement(w,{ingredients:this.state.ingredients})),b.a.createElement(b.a.Suspense,{fallback:b.a.createElement(O.a,null)},b.a.createElement(S,{ingredients:this.state.ingredients,price:this.state.totalPrice,increase:this.ingredientIncreaseHandler,decrease:this.ingredientDecreaseHandler,purchasable:this.state.purchasable,purchaseStart:this.purchaseStartHandler}))),t=b.a.createElement(b.a.Suspense,{fallback:b.a.createElement(O.a,null)},b.a.createElement(C,{ingredients:this.state.ingredients,totalCost:this.state.totalPrice,purchaseCancel:this.purchaseCancelHandler,purchaseContinue:this.purchaseContinueHandler}))),this.state.loading&&(t=b.a.createElement(O.a,null)),b.a.createElement(b.a.Suspense,{fallback:b.a.createElement(O.a,null)},b.a.createElement(y,{show:this.state.purchasing,hider:this.purchaseCancelHandler},t),e)}}]),t}(f.Component);t.default=E(H,m)},30:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(16),a={salad:.5,cheese:.6,bacon:.8,meat:1.4};function s(e){return Object.entries(e).map(function(e){var t=Object(r.a)(e,2),n=t[0],s=t[1];return a[n]*s}).reduce(function(e,t){return e+t},0)+4}},33:function(e,t,n){"use strict";function r(e){return Object.values(e).some(function(e){return 0!==e})}n.d(t,"a",function(){return r})}},0,[7,6]]);
//# sourceMappingURL=BurgerBuilder.c782d675.chunk.js.map