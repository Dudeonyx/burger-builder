{"version":3,"sources":["components/UI/Backdrop/Backdrop.js","components/UI/Backdrop/Backdrop.module.css","components/UI/Modal/Modal.module.css","axios-orders.js","components/UI/Modal/Modal.js","containers/BurgerBuilder/BurgerBuilder.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Backdrop_module_css__WEBPACK_IMPORTED_MODULE_1__","_Backdrop_module_css__WEBPACK_IMPORTED_MODULE_1___default","Backdrop","props","show","a","createElement","className","styles","onClick","hider","module","exports","Modal","Hide","axiosOrderInstance","axios","create","baseURL","React","memo","console","log","react_default","Fragment","style","transform","opacity","maxWidth","visibility","children","prevProps","nextProps","BurgerDisplay","lazy","e","then","bind","BuildControls","OrderSummary","INGREDIENT_PRICES","salad","cheese","bacon","meat","BurgerBuilder","state","ingredients","totalPrice","purchasable","purchasing","loading","orders","updatePurchasable","status","Object","values","some","igVal","_this","setState","ingredientIncreaseHandler","type","newIngredients","objectSpread","newTotalPrice","ingredientDecreaseHandler","purchaseStartHandler","purchaseCancelHandler","purchaseContinueHandler","_callee","order","response","regenerator_default","wrap","_context","prev","next","generateOrder","post","sent","prevState","concat","data","name","t0","finish","stop","this","customer","address","street","city","country","phone","areaCode","email","deliveryMethod","price","orderSummary","Loader","Suspense","fallback","purchaseCancel","purchaseContinue","UI_Modal_Modal","increase","decrease","purchaseStart","Component"],"mappings":"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","file":"static/js/2.8e2efb5e.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './Backdrop.module.css';\r\n\r\nconst Backdrop = props => {\r\n  return props.show ? (\r\n    <div className={styles.Backdrop} onClick={props.hider} />\r\n  ) : null;\r\n};\r\n\r\nexport default Backdrop;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__2dJeJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__3JiWW\",\"Hide\":\"Modal_Hide__3ufiz\"};","import axios from 'axios';\r\n\r\nconst axiosOrderInstance = axios.create( {\r\n  baseURL: 'https://react-burger-builder-8d6de.firebaseio.com/',\r\n} );\r\n\r\nexport default axiosOrderInstance;\r\n","import React from 'react';\r\nimport styles from './Modal.module.css';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nconst Modal = props => {\r\n  console.log( '[Modal]' );\r\n  return (\r\n    <>\r\n      <Backdrop show={props.show} hider={props.hider} />\r\n      <div\r\n        className={styles.Modal}\r\n        style={{\r\n          transform: props.show ? '' : 'translate(-50%, -200%)',\r\n          opacity: props.show ? '1' : '0',\r\n          maxWidth: props.show ? '100%' : '0%',\r\n          visibility: props.show ? '' : 'hidden',\r\n        }}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst isPropsShowEqual = ( prevProps, nextProps ) => {\r\n  return prevProps.show === nextProps.show && nextProps.children === prevProps.children;\r\n};\r\nexport default React.memo( Modal, isPropsShowEqual );\r\n","import React, { Component, lazy } from 'react';\r\n\r\nimport Loader from '../../components/UI/Loader/Loader';\r\nimport axios from '../../axios-orders';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\n\r\nconst BurgerDisplay = lazy( () => import( '../../components/Burger/BurgerDisplay/BurgerDisplay' ) );\r\nconst BuildControls = lazy( () => import( '../../components/Burger/BuildControls/BuildControls' ) );\r\nconst OrderSummary = lazy( () => import( '../../components/OrderSummary/OrderSummary' ) );\r\n\r\nconst INGREDIENT_PRICES = {\r\n  salad: 0.5,\r\n  cheese: 0.6,\r\n  bacon: 0.8,\r\n  meat: 1.4,\r\n};\r\nexport default class BurgerBuilder extends Component {\r\n  state = {\r\n    ingredients: {\r\n      salad: 0,\r\n      bacon: 0,\r\n      cheese: 0,\r\n      meat: 0,\r\n    },\r\n    totalPrice: 4,\r\n    purchasable: false,\r\n    purchasing: false,\r\n    loading: false,\r\n    orders: [],\r\n  };\r\n\r\n  updatePurchasable = ingredients => {\r\n    const status = Object.values( ingredients ).some( igVal => igVal !== 0 );\r\n    this.setState( {\r\n      purchasable: status,\r\n    } );\r\n  };\r\n\r\n  ingredientIncreaseHandler = type => {\r\n    const newIngredients = { ...this.state.ingredients };\r\n    newIngredients[type] += 1;\r\n    let newTotalPrice = this.state.totalPrice + INGREDIENT_PRICES[type];\r\n    this.setState( {\r\n      ingredients: newIngredients,\r\n      totalPrice: newTotalPrice,\r\n    } );\r\n    this.updatePurchasable( newIngredients );\r\n  };\r\n  ingredientDecreaseHandler = type => {\r\n    if ( this.state.ingredients[type] <= 0 ) return;\r\n    const newIngredients = { ...this.state.ingredients };\r\n    newIngredients[type] -= 1;\r\n    let newTotalPrice = this.state.totalPrice - INGREDIENT_PRICES[type];\r\n    this.setState( {\r\n      ingredients: newIngredients,\r\n      totalPrice: newTotalPrice,\r\n    } );\r\n    this.updatePurchasable( newIngredients );\r\n  };\r\n\r\n  purchaseStartHandler = () => {\r\n    this.setState( { purchasing: true } );\r\n  };\r\n  purchaseCancelHandler = () => {\r\n    this.setState( { purchasing: false } );\r\n  };\r\n  purchaseContinueHandler = async () => {\r\n    try {\r\n      this.setState( { loading: true } );\r\n      const order = this.generateOrder();\r\n      const response = await axios.post( '/orders.json', order );\r\n      console.log( response );\r\n      this.setState( prevState => ( {\r\n        orders: prevState.orders.concat( response.data.name ),\r\n      } ) );\r\n    } catch ( error ) {\r\n      console.log( error );\r\n    } finally {\r\n      this.setState( { purchasing: false, loading: false } );\r\n    }\r\n  };\r\n\r\n  generateOrder() {\r\n    return {\r\n      customer: {\r\n        name: 'OnyekaChukwu',\r\n        address: {\r\n          street: 'Adjenughure Street',\r\n          city: 'Effural',\r\n          state: 'Selta',\r\n          country: 'Nier',\r\n        },\r\n        phone: '123-255-8416',\r\n        areaCode: '+56',\r\n        email: 'test@testing.on',\r\n      },\r\n      deliveryMethod: 'cheapest',\r\n      ingredients: this.state.ingredients,\r\n      price: this.state.totalPrice,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const orderSummary = this.state.loading ? (\r\n      <Loader />\r\n    ) : (\r\n      <React.Suspense fallback={<Loader />}>\r\n        <OrderSummary\r\n          ingredients={this.state.ingredients}\r\n          price={this.state.totalPrice}\r\n          purchaseCancel={this.purchaseCancelHandler}\r\n          purchaseContinue={this.purchaseContinueHandler}\r\n        />\r\n      </React.Suspense>\r\n    );\r\n    return (\r\n      <div>\r\n        <Modal show={this.state.purchasing} hider={this.purchaseCancelHandler}>\r\n          {orderSummary}\r\n        </Modal>\r\n        <React.Suspense fallback={<Loader />}>\r\n          <BurgerDisplay ingredients={this.state.ingredients} />\r\n          <React.Suspense fallback={<Loader />}>\r\n            <BuildControls\r\n              ingredients={this.state.ingredients}\r\n              price={this.state.totalPrice}\r\n              increase={this.ingredientIncreaseHandler}\r\n              decrease={this.ingredientDecreaseHandler}\r\n              purchasable={this.state.purchasable}\r\n              purchaseStart={this.purchaseStartHandler}\r\n            />\r\n          </React.Suspense>\r\n        </React.Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}