{"version":3,"sources":["axios-orders.tsx","HOCs/withErrorHandler.tsx","containers/BurgerBuilder/BurgerBuilder.tsx","shared/getTotalPrice.tsx","shared/updatePurchasable.tsx"],"names":["axiosOrderInstance","axios","create","baseURL","Modal","lazy","__webpack_require__","e","then","bind","withErrorHandler","WrappedComponent","_Component","WithErrorHandler","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","error","req","res","errorConfirmed","setState","inherits","createClass","key","value","_this2","interceptors","request","use","response","eject","react_default","a","createElement","Fragment","show","hider","message","props","Component","BurgerDisplay","BuildControls","OrderSummary","BurgerBuilder","ingredients","totalPrice","purchasable","purchasing","loading","orders","ingredientIncreaseHandler","type","newIngredients","objectSpread","newTotalPrice","getTotalPrice","updatePurchasable","ingredientDecreaseHandler","purchaseStartHandler","purchaseCancelHandler","purchaseContinueHandler","_callee","newQueryString","regenerator_default","wrap","_context","prev","next","abrupt","entries","map","_ref2","_ref3","slicedToArray","igKey","igVal","encodeURIComponent","join","history","push","pathname","search","stop","fetchIngredients","_callee2","_context2","get","sent","data","t0","offline","bacon","cheese","meat","salad","burger","Retry","retryHandler","mainMessage","additionalMessage","style","color","cursor","onClick","Loader","orderSummary","Suspense","fallback","price","increase","decrease","purchaseStart","totalCost","purchaseCancel","purchaseContinue","BurgerBuilder_Modal","INGREDIENT_PRICES","_ref","D_github_burger_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","reduce","acc","val","values","some","d","__webpack_exports__"],"mappings":"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","file":"static/js/BurgerBuilder.c782d675.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosOrderInstance = axios.create( {\r\n  baseURL: 'https://react-burger-builder-8d6de.firebaseio.com/',\r\n} );\r\n\r\nexport default axiosOrderInstance;\r\n","import { AxiosInstance } from 'axios';\r\nimport React, { Component, ComponentType, lazy } from 'react';\r\n\r\nconst Modal = lazy(() =>\r\n  import(/* webpackChunkName: \"Modal\" */ '../components/UI/Modal/Modal'),\r\n);\r\n\r\nexport interface IWithErrorHandlerState {\r\n  error: Error | null;\r\n}\r\n\r\n/** @template P\r\n * @param {ComponentType<P>} WrappedComponent\r\n * @param {AxiosInstance} axios\r\n * @returns\r\n */\r\nfunction withErrorHandler<P extends object>(\r\n  WrappedComponent: ComponentType<P>,\r\n  axios: AxiosInstance,\r\n) {\r\n  return class WithErrorHandler extends Component<P> {\r\n    public state: IWithErrorHandlerState = {\r\n      error: null,\r\n    };\r\n\r\n    private req: number | null = null;\r\n\r\n    private res: number | null = null;\r\n\r\n    public componentWillMount() {\r\n      this.req = axios.interceptors.request.use(\r\n        (req) => {\r\n          this.setState({ error: null });\r\n          return req;\r\n        },\r\n        (error) => {\r\n          throw error;\r\n        },\r\n      );\r\n      this.res = axios.interceptors.response.use(\r\n        (req) => req,\r\n        (error) => {\r\n          this.setState({ error });\r\n          throw error;\r\n        },\r\n      );\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n      if (this.req) {\r\n        axios.interceptors.request.eject(this.req);\r\n      }\r\n      if (this.res) {\r\n        axios.interceptors.response.eject(this.res);\r\n      }\r\n    }\r\n\r\n    public errorConfirmed = () => {\r\n      this.setState({ error: null });\r\n    }\r\n\r\n    public render() {\r\n      return (\r\n        <>\r\n          {this.state.error ? (\r\n            <Modal show={!!this.state.error} hider={this.errorConfirmed}>\r\n              {this.state.error.message}\r\n            </Modal>\r\n          ) : null}\r\n          <WrappedComponent {...this.props} />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nexport default withErrorHandler;\r\n","import { updatePurchasable } from '../../shared/updatePurchasable';\r\nimport React, { Component, lazy } from 'react';\r\n\r\nimport { AxiosResponse } from 'axios';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport axios from '../../axios-orders';\r\nimport Retry from '../../components/Retry/Retry';\r\nimport Loader from '../../components/UI/Loader/Loader';\r\nimport withErrorHandler from '../../HOCs/withErrorHandler';\r\nimport { getTotalPrice } from '../../shared/getTotalPrice';\r\n\r\nconst BurgerDisplay = lazy(() =>\r\n  import(/* webpackChunkName: \"BurgerDisplay\", webpackPrefetch: true */\r\n  '../../components/Burger/BurgerDisplay/BurgerDisplay')\r\n);\r\nconst BuildControls = lazy(() =>\r\n  import(/* webpackChunkName: \"BuildControls\", webpackPrefetch: true */\r\n  '../../components/Burger/BuildControls/BuildControls')\r\n);\r\nconst Modal = lazy(() =>\r\n  import(/* webpackChunkName: \"Modal\" */ '../../components/UI/Modal/Modal')\r\n);\r\nconst OrderSummary = lazy(() =>\r\n  import(/* webpackChunkName: \"OrderSummary\" */ '../../components/OrderSummary/OrderSummary')\r\n);\r\n\r\n/**\r\n * @export\r\n * @interface Iingredients\r\n */\r\nexport interface Iingredients {\r\n  /**\r\n   * @type {number}\r\n   * @memberof Iingredients\r\n   */\r\n  salad: number;\r\n  /**\r\n   * @type {number}\r\n   * @memberof Iingredients\r\n   */\r\n  bacon: number;\r\n  /**\r\n   * @type {number}\r\n   * @memberof Iingredients\r\n   */\r\n  cheese: number;\r\n  /**\r\n   * @type {number}\r\n   * @memberof Iingredients\r\n   */\r\n  meat: number;\r\n}\r\n/**\r\n * @export\r\n * @interface IBurgerBuilderState\r\n */\r\nexport interface IBurgerBuilderState {\r\n  /**\r\n   * @type {(Iingredients | null)}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  ingredients: Iingredients | null;\r\n  /**\r\n   * @type {number}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  totalPrice: number;\r\n  /**\r\n   * @type {boolean}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  purchasable: boolean;\r\n  /**\r\n   * @type {boolean}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  purchasing: boolean;\r\n  /**\r\n   * @type {boolean}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  loading: boolean;\r\n  /**\r\n   * @type {string[]}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  orders: string[];\r\n  /**\r\n   * @type {(Error | null | false)}\r\n   * @memberof IBurgerBuilderState\r\n   */\r\n  error: Error | null | false;\r\n}\r\n\r\n/**\r\n * A burger display and controls container\r\n * @class BurgerBuilder\r\n * @extends {Component<{}, IBurgerBuilderState>}\r\n */\r\nclass BurgerBuilder extends Component<\r\n  RouteComponentProps,\r\n  IBurgerBuilderState\r\n> {\r\n  /*  tslint:disable:object-literal-sort-keys */\r\n  public state: IBurgerBuilderState = {\r\n    ingredients: null,\r\n    totalPrice: 4,\r\n    purchasable: false,\r\n    purchasing: false,\r\n    loading: false,\r\n    orders: [],\r\n    error: null\r\n  };\r\n  /*  tslint:enable:object-literal-sort-keys */\r\n  /**\r\n   * componentDidMount\r\n   */\r\n  public componentDidMount() {\r\n    this.fetchIngredients();\r\n  }\r\n\r\n  public ingredientIncreaseHandler = (type: keyof Iingredients): void => {\r\n    if (!this.state.ingredients) {\r\n      return;\r\n    }\r\n    const newIngredients = { ...this.state.ingredients };\r\n    newIngredients[type] += 1;\r\n    const newTotalPrice = getTotalPrice(newIngredients);\r\n    this.setState({\r\n      ingredients: newIngredients,\r\n      purchasable: updatePurchasable(newIngredients),\r\n      totalPrice: newTotalPrice\r\n    });\r\n  };\r\n  public ingredientDecreaseHandler = (type: keyof Iingredients) => {\r\n    if (!this.state.ingredients) {\r\n      return;\r\n    }\r\n    if (this.state.ingredients[type] <= 0) {\r\n      return;\r\n    }\r\n    const newIngredients = { ...this.state.ingredients };\r\n    newIngredients[type] -= 1;\r\n    const newTotalPrice = getTotalPrice(newIngredients);\r\n    this.setState({\r\n      ingredients: newIngredients,\r\n      purchasable: updatePurchasable(newIngredients),\r\n      totalPrice: newTotalPrice\r\n    });\r\n  };\r\n\r\n  public purchaseStartHandler = () => {\r\n    this.setState({ purchasing: true });\r\n  };\r\n  public purchaseCancelHandler = () => {\r\n    this.setState({ purchasing: false });\r\n  };\r\n  public purchaseContinueHandler = async () => {\r\n    // try {\r\n    //   this.setState({ loading: true });\r\n    //   const order = this.generateOrder();\r\n    //   const response = await axios.post('/orders.json', order);\r\n    //   // tslint:disable-next-line:no-console\r\n    //   console.log(response);\r\n    //   const orders = this.state.orders.concat(response.data.name);\r\n    //   this.setState({ orders });\r\n    // } catch (error) {\r\n    //   // tslint:disable-next-line:no-console\r\n    //   console.log(error);\r\n    // } finally {\r\n    //   this.setState({ purchasing: false, loading: false });\r\n    // }\r\n    if (!this.state.ingredients) {\r\n      return;\r\n    }\r\n    const newQueryString = (Object.entries(this.state.ingredients) as Array<\r\n      [keyof Iingredients, number]\r\n    >)\r\n      .map(([igKey, igVal]) => `${encodeURIComponent(igKey)}=${igVal}`)\r\n      .join('&');\r\n\r\n    this.props.history.push({\r\n      pathname: '/checkout',\r\n      search: '?' + newQueryString\r\n    });\r\n  };\r\n\r\n  public render() {\r\n    let burger = this.state.error ? (\r\n      <Retry\r\n        retryHandler={this.fetchIngredients}\r\n        mainMessage=\"Ingredients Failed To Load. Please \"\r\n        additionalMessage={\r\n          <span\r\n            style={{ color: 'blue', cursor: 'pointer' }}\r\n            onClick={this.offline}\r\n          >\r\n            work offline for now?\r\n          </span>\r\n        }\r\n      />\r\n    ) : (\r\n      <Loader />\r\n    );\r\n\r\n    let orderSummary = null;\r\n\r\n    if (this.state.ingredients) {\r\n      burger = (\r\n        <>\r\n          <React.Suspense fallback={<Loader />}>\r\n            <BurgerDisplay ingredients={this.state.ingredients} />\r\n          </React.Suspense>\r\n          <React.Suspense fallback={<Loader />}>\r\n            <BuildControls\r\n              ingredients={this.state.ingredients}\r\n              price={this.state.totalPrice}\r\n              increase={this.ingredientIncreaseHandler}\r\n              decrease={this.ingredientDecreaseHandler}\r\n              purchasable={this.state.purchasable}\r\n              purchaseStart={this.purchaseStartHandler}\r\n            />\r\n          </React.Suspense>\r\n        </>\r\n      );\r\n\r\n      orderSummary = (\r\n        <React.Suspense fallback={<Loader />}>\r\n          <OrderSummary\r\n            ingredients={this.state.ingredients}\r\n            totalCost={this.state.totalPrice}\r\n            purchaseCancel={this.purchaseCancelHandler}\r\n            purchaseContinue={this.purchaseContinueHandler}\r\n          />\r\n        </React.Suspense>\r\n      );\r\n    }\r\n\r\n    if (this.state.loading) {\r\n      orderSummary = <Loader />;\r\n    }\r\n    return (\r\n      <React.Suspense fallback={<Loader />}>\r\n        <Modal show={this.state.purchasing} hider={this.purchaseCancelHandler}>\r\n          {orderSummary}\r\n        </Modal>\r\n        {burger}\r\n      </React.Suspense>\r\n    );\r\n  }\r\n\r\n  private fetchIngredients = async () => {\r\n    this.setState({ error: null });\r\n    try {\r\n      const response: AxiosResponse<Iingredients> = await axios.get(\r\n        '/ingredients.json'\r\n      );\r\n      const { data: newIngredients } = response;\r\n      const newTotalPrice = getTotalPrice(newIngredients);\r\n      this.setState({\r\n        ingredients: newIngredients,\r\n        purchasable: updatePurchasable(newIngredients),\r\n        totalPrice: newTotalPrice\r\n      });\r\n    } catch (error) {\r\n      // tslint:disable-next-line:no-console\r\n      this.setState({\r\n        error\r\n      });\r\n    }\r\n  };\r\n  private offline = () => {\r\n    this.setState({\r\n      error: false,\r\n      ingredients: {\r\n        bacon: 0,\r\n        cheese: 0,\r\n        meat: 0,\r\n        salad: 0\r\n      },\r\n      totalPrice: 4\r\n    });\r\n  };\r\n}\r\n\r\nexport default withErrorHandler(BurgerBuilder, axios);\r\n","import { Iingredients } from '../containers/BurgerBuilder/BurgerBuilder';\r\n\r\nexport const INGREDIENT_PRICES = {\r\n  salad: 0.5,\r\n  // tslint:disable-next-line:object-literal-sort-keys\r\n  cheese: 0.6,\r\n  bacon: 0.8,\r\n  meat: 1.4\r\n};\r\nexport function getTotalPrice(ingredients: Iingredients) {\r\n  return (\r\n    (Object.entries(ingredients) as Array<[keyof Iingredients, number]>)\r\n      .map(([igKey, igVal]) => {\r\n        return INGREDIENT_PRICES[igKey] * igVal;\r\n      })\r\n      .reduce((acc, val) => acc + val, 0) + 4\r\n  );\r\n}\r\n","import { Iingredients } from '../containers/BurgerBuilder/BurgerBuilder';\r\n\r\nexport function updatePurchasable(ingredients: Iingredients): boolean {\r\n  return Object.values(ingredients).some(igVal => igVal !== 0);\r\n}\r\n"],"sourceRoot":""}